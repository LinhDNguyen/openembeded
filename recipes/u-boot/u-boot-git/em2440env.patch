diff -rupN git.orig/include/configs/mini2440.h git/include/configs/mini2440.h
--- git.orig/include/configs/mini2440.h	2012-10-08 23:12:50.790192220 +0700
+++ git/include/configs/mini2440.h	2012-10-08 23:13:02.429046714 +0700
@@ -136,10 +136,10 @@
 #define CONFIG_BOOTARGS    	"root=/dev/mtdblock3 rootfstype=jffs2 console=ttySAC0,115200"
 #define CONFIG_ETHADDR	        08:08:11:18:12:27
 #define CONFIG_NETMASK          255.255.255.0
-#define CONFIG_IPADDR		10.0.0.111
-#define CONFIG_SERVERIP		10.0.0.4
+#define CONFIG_IPADDR		192.168.1.116
+#define CONFIG_SERVERIP		192.168.1.119
 
-#define CONFIG_BOOTCOMMAND	""
+#define CONFIG_BOOTCOMMAND	"nboot 0x32000000 kernel; bootm 0x32000000"
 
 #define CONFIG_DOS_PARTITION	1
 
@@ -153,7 +153,7 @@
  * Miscellaneous configurable options
  */
 #define	CFG_LONGHELP				/* undef to save memory		*/
-#define	CFG_PROMPT		"MINI2440 # "	/* Monitor Command Prompt	*/
+#define	CFG_PROMPT		"EM2440 # "	/* Monitor Command Prompt	*/
 #define	CFG_CBSIZE		256		/* Console I/O Buffer Size	*/
 #define	CFG_PBSIZE (CFG_CBSIZE+sizeof(CFG_PROMPT)+16) /* Print Buffer Size */
 #define	CFG_MAXARGS		32		/* max number of command args	*/
@@ -324,7 +324,7 @@
 #define CONFIG_EXTRA_ENV_SETTINGS	\
 	"usbtty=cdc_acm\0" \
 	"mtdparts=mtdparts=mini2440-nand:256k@0(u-boot),128k(env),5m(kernel),-(root)\0" \
-	"mini2440=mini2440=0tb\0" \
+	"mini2440=mini2440=5tb\0" \
 	"bootargs_base=console=ttySAC0,115200 noinitrd\0" \
 	"bootargs_init=init=/sbin/init\0" \
 	"root_nand=root=/dev/mtdblock3 rootfstype=jffs2\0" \
@@ -337,6 +337,10 @@
 	"set_bootargs_mmc=setenv bootargs ${bootargs_base} ${bootargs_init} ${mini2440} ${root_mmc}\0" \
 	"set_bootargs_nand=setenv bootargs ${bootargs_base} ${bootargs_init} ${mini2440} ${root_nand}\0" \
 	"set_bootargs_nfs=run set_root_nfs\; setenv bootargs ${bootargs_base} ${bootargs_init} ${mini2440} ${root_nfs} ${ifconfig}\0" \
+	"newuboot=tftp 0x30000000 u-boot.bin\; nand erase bios\; nand write.jffs2 0x30000000 u-boot $(filesize)\0" \
+	"newkernel=tftp 0x30000000 uImage\; nand erase kernel\; nand write.jffs2 0x30000000 kernel $(filesize)\0" \
+	"newrootfs=tftp 0x30000000 rootfs.jffs2\; nand erase root\; nand write.jffs2 0x30000000 root $(filesize)\0" \
+	"set_boot_mmc=mmcinit \; ext2load mmc 0:2 0x31000000 uImage \; bootm 0x31000000\0" \
 	""	
 
 #endif	/* __CONFIG_H */
